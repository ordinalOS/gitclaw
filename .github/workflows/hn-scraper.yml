# ============================================================================
# HN Scraper â€” Hacker News analyst with hype scores and puns
# ============================================================================
name: "ðŸ“° HN Scraper"

on:
  workflow_call:
    inputs:
      query_args: { required: true, type: string }
      issue_number: { required: true, type: string }
  workflow_dispatch:
    inputs:
      query_args: { description: "Query (top, search <term>, trending)", default: "top", type: string }
      issue_number: { description: "Issue to post to (0 = stdout)", default: "0", type: string }
  schedule:
    - cron: '0 7 * * *'

jobs:
  run:
    uses: ./.github/workflows/python-agent-runner.yml
    with:
      agent_script: "hn_scraper.py"
      enable_pattern: "hn-scraper"
      query_args: ${{ inputs.query_args || 'top' }}
      issue_number: ${{ inputs.issue_number || '0' }}
      memory_dir: "memory/hn/"
      persist_msg: "ðŸ“° HN Scraper digest"
    secrets: inherit
