# ============================================================================
# News Scraper â€” Stealthy news intelligence agent
# ============================================================================
name: "ðŸ¥· News Scraper"

on:
  workflow_call:
    inputs:
      query_args: { required: true, type: string }
      issue_number: { required: true, type: string }
  workflow_dispatch:
    inputs:
      query_args: { description: "News topic (tech, markets, crypto, etc.)", default: "tech", type: string }
      issue_number: { description: "Issue to post to (0 = stdout)", default: "0", type: string }
  schedule:
    - cron: '30 7 * * *'

jobs:
  run:
    uses: ./.github/workflows/python-agent-runner.yml
    with:
      agent_script: "news_scraper.py"
      enable_pattern: "news-scraper"
      query_args: ${{ inputs.query_args || 'tech' }}
      issue_number: ${{ inputs.issue_number || '0' }}
      memory_dir: "memory/news/"
      persist_msg: "ðŸ¥· News Scraper digest"
    secrets: inherit
