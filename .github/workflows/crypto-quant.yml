# ============================================================================
# Crypto Oracle â€” Mystical crypto quant analysis
# ============================================================================
name: "ðŸ”® Crypto Oracle"

on:
  workflow_call:
    inputs:
      query_args: { required: true, type: string }
      issue_number: { required: true, type: string }
  workflow_dispatch:
    inputs:
      query_args: { description: "Query (btc, compare btc eth, market)", required: true, type: string }
      issue_number: { description: "Issue to post to (0 = stdout)", default: "0", type: string }

jobs:
  run:
    uses: ./.github/workflows/python-agent-runner.yml
    with:
      agent_script: "crypto_quant.py"
      enable_pattern: "crypto-quant\\|crypto.quant\\|crypto_quant"
      query_args: ${{ inputs.query_args }}
      issue_number: ${{ inputs.issue_number || '0' }}
      memory_dir: "memory/crypto/"
      persist_msg: "ðŸ”® Crypto Oracle analysis"
      disabled_msg: "## ðŸ”® Crypto Oracle Not Enabled\n\nAdd `enable: crypto-quant` to your `agent.md` and try again."
    secrets: inherit
